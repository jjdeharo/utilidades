<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>URL Modificador</title>
<script>
        function modifyURL() {
            // Obtener URL
            const originalURL = document.getElementById("originalURL").value;

            // Modificar URL para imagen
            const imageURL = originalURL.replace('mermaid.live/edit#', 'mermaid.ink/img/') + '?type=png';
            document.getElementById("imageURL").value = imageURL;

            // Modificar URL para iframe
            const iframeURL = originalURL.replace('mermaid.live/edit#', 'mermaid.live/view#');
            document.getElementById("iframeCode").innerHTML = `<center><iframe src="${iframeURL}" width="90%" height="400" frameborder="0"></iframe></center>`;
        }

        function copyToClipboard(elementId) {
            const copyText = document.getElementById(elementId);
            copyText.select();
            copyText.setSelectionRange(0, 99999); // For mobile devices
            document.execCommand("copy");
        }

        function selectText(elementId) {
            const text = document.getElementById(elementId);
            text.select();
        }
    </script>
</head>
<body>
<h2>Direcci√≥n de mermaid.live:</h2>
<input id="originalURL" onclick="
        this.value = '';
        document.getElementById('imageURL').value = '';
        document.getElementById('iframeCode').innerHTML = '';
    " onpaste="setTimeout(function(){ modifyURL(); }, 50);" style="width: 80%;" type="text" value="https://mermaid.live/edit#..."/>

<h2>Visualizar como imagen</h2>
<input id="imageURL" onclick="selectText('imageURL')" style="width: 80%;" type="text"/>
<button onclick="copyToClipboard('imageURL')">Copiar</button>
<h2>Insertar como iframe</h2>
<textarea id="iframeCode" onclick="selectText('iframeCode')" style="width: 80%; height: 100px;"></textarea>
<button onclick="copyToClipboard('iframeCode')">Copiar</button>
</body>
</html>
